<div class="container mx-auto py-8 px-4">
    <h2 class="text-3xl font-bold tracking-tight mb-8 text-foreground">Featured Movies</h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
        @for (movie of movies(); track movie.id) {
        <div
            class="group relative rounded-xl border bg-card text-card-foreground shadow overflow-hidden transition-all hover:shadow-lg hover:-translate-y-1">

            <div class="aspect-[2/3] w-full overflow-hidden bg-muted">
                <img [src]="movie.poster_path || 'https://placehold.co/400x600/1a1a1a/e0e0e0?text=No+Poster'"
                    [alt]="movie.title"
                    class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105" />
            </div>

            <div class="p-5 flex flex-col justify-between h-[180px]">
                <div>
                    <h3 class="font-semibold leading-tight tracking-tight text-lg mb-2 line-clamp-1">{{ movie.title }}
                    </h3>

                    <div class="flex flex-wrap gap-1.5 mb-2">
                        @for (genre of movie.genres; track genre) {
                        <span
                            class="inline-flex items-center rounded-md px-2 py-0.5 text-xs font-medium transition-colors border border-transparent bg-secondary text-secondary-foreground">
                            {{ genre }}
                        </span>
                        }
                    </div>
                </div>

                <div class="flex items-center justify-between text-sm text-muted-foreground mt-4 pt-3 border-t">
                    <span class="flex items-center gap-1 font-medium text-foreground">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                            fill="currentColor" stroke="none" class="text-yellow-500">
                            <path
                                d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                        </svg>
                        {{ movie.ranking.ranking_value }} / 10
                    </span>
                    <span class="text-xs uppercase tracking-wider">{{ movie.ranking.ranking_name }}</span>
                </div>
            </div>

        </div>
        } @empty {
        <div class="col-span-full py-16 text-center text-muted-foreground border-2 border-dashed rounded-xl">
            <p class="text-lg">No movies found. Add some to get started!</p>
        </div>
        }
    </div>
</div>